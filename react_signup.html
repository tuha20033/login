<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./fontawesome-free-6.2.1-web/css/all.min.css">
    <link rel="stylesheet" href="./style1.css"> 
    <link rel="stylesheet" href="./reponsive.css">
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
</head>
<body class = 'tu' id ='tu'>
    <script>
        const wrapper = React.createElement('div',{
            className:'wrapper'
        },  React.createElement('form',{},
            React.createElement('h1',{},'Sign up'),
            React.createElement('div',{
                className :'input-box'
            },  React.createElement('input',{type:'text',id:'user', placeholder:"User",minlength:"5", maxlength:"20",required:true}),
                 React.createElement('i',{ clasName:'fa-solid fa-user user icon '},)),
            React.createElement('div',{
                className :'input-box'
            },  React.createElement('input',{type:'text',id:'user', placeholder:"first and last name",minlength:"5", maxlength:"20",required:true}),
                 React.createElement('i',{ clasName:'fa-solid fa-user user icon '},)),
                 React.createElement('div',{
                className :'input-box'
            },  React.createElement('input',{type:'text',id:'user', placeholder:"Email",minlength:"5", maxlength:"20",required:true}),
                 React.createElement('i',{ clasName:'fa-solid fa-user user icon '},)),

                 React.createElement('div',{
                className :'input-box'
            },  React.createElement('input',{type:'text',id:'user', placeholder:"Password",minlength:"5", maxlength:"20",required:true}),
                 React.createElement('i',{ clasName:'fa-solid fa-user user icon '},)),

                 React.createElement('div',{
                className :'input-box'
            },  React.createElement('input',{type:'text',id:'user', placeholder:"Confirm password",minlength:"5", maxlength:"20",required:true}),
                 React.createElement('i',{ clasName:'fa-solid fa-user user icon '},)),

                 React.createElement('div',{
                className :'input-box'
            },  React.createElement('input',{type:'text',id:'user', placeholder:"Phone",minlength:"5", maxlength:"20",required:true}),
                 React.createElement('i',{ clasName:'fa-solid fa-user user icon '},)),

                 React.createElement('div',{
                className :'input-box'
            },  React.createElement('input',{type:'text',id:'user', placeholder:"adress",minlength:"5", maxlength:"20",required:true}),
                 React.createElement('i',{ clasName:'fa-solid fa-user user icon '},)),
                 React.createElement('button',{
                    className:'btn',
                    id:'btn-signup',
                    type:'submit',
                 },"Sign up")       
        )
        )
        ReactDOM.render(wrapper,document.getElementById('tu'))







        var btn = document.getElementById('btn-signup')
        btn.onclick = function(){
             const user = document.getElementById('user');
             const flname = document.getElementById('flname');
             const email = document.getElementById('email');
             const password = document.getElementById('password');
             const password2 = document.getElementById('password2');
             const phone = document.getElementById('phone');
             const phone_check = document.getElementById('phone').value;
             const regex = /!@#$%^&*(),.?":{}|<>]/;
            const adress = document.getElementById('adress')

            if((flname.value.length<8)&&(flname.value.length>50)){
                    // a.style.display="block"
                    alert(" họ và tên không hợp lệ");
                  
                }
                else if((user.value.length<5)&&(user.value.length>20)){
                    alert(" user không hợp lệ , phải trên 5 ký tự và dưới 20 ký tự");
                    // b.style.display="block"
                  
                }
                else if((password.value.length<6)&&((password.value.length>20))){
                    alert("Mật khẩu không hợp lệ ,phải trên 6 ký tự dưới 20 ký tự");
                    // c.style.display="block"
                 
                }
                else if(password.value.length!=password2.value.length){
                    alert("Mật khẩu không giống nhau");
                    
                    // d.style.display="block"
                }
        //     var a = document.getElementById('a')
        //    var b = document.getElementById('b')
        //    var c = document.getElementById('c')
        //    var d = document.getElementById('d')
        //     var e = document.getElementById('e')
           
                var flag = false;
                if((flname.value.length>=8)
                &&(flname.value.length<=50)
                &&(user.value.length>=5)
                &&(user.value.length<=20)
                &&(password.value.length>=6)
                &&(password.value.length<=20)
                &&(password.value==password2.value)
                &&(adress.value.length<=100)
                &&(!regex.test(phone_check)&&(phone_check.charAt(1)==3||phone_check.charAt(1)==9)&&(phone_check.charAt(0)==0)&&(phone_check.length==10))
                )
                {flag=true};
                
                if(flag==true){
                    user_data= user.value;
                    localStorage.setItem("user",user_data) ;
                    email_data= email.value;
                    localStorage.setItem("email",email_data);
                    flname_data = flname.value;
                    localStorage.setItem("flname",flname_data );
                    phone_data= phone.value;
                    localStorage.setItem("phone",phone_data);
                    adress_data= adress.value;
                    localStorage.setItem("adress",adress_data);
                    password_data = password.value;
                    localStorage.setItem("password", password_data);
                    alert('Đăng ký thành công hệ thống sẽ đưa bạn đến trang đăng nhập ')
                    window.open('./login.html')
                }
               
                // else  {alert("Đăng ký không thành công xin vui lòng thử lại ");}
            var itemName  = localStorage.getItem('productlist') ? JSON.parse(localStorage.getItem('productlist')) : [];
            if((flname.value.length>=8)
                &&(flname.value.length<=50)
                &&(user.value.length>=5)
                &&(user.value.length<=20)
                &&(password.value.length>=6)
                &&(password.value.length<=20)
                &&(password.value==password2.value)
                &&(adress.value.length<=100)
                &&(!regex.test(phone_check)&&(phone_check.charAt(1)==3||phone_check.charAt(1)==9)&&(phone_check.charAt(0)==0)&&(phone_check.length==10))
                ){ 
                    let object = {
                user:user.value,
                password:password.value,
                email:email.value,
                flname:flname.value,
                phone:phone.value,
                adress:adress.value,
                 }
           var  itemName  = localStorage.getItem('productlist') ? JSON.parse(localStorage.getItem('productlist')) : [];
                var productlist =localStorage.getItem('productlist');
                if(productlist){
                 itemName  = JSON.parse(productlist);
                itemName.push(object);
                localStorage.setItem("productlist",JSON.stringify(itemName))
                }
                else{
                localStorage.setItem("productlist",JSON.stringify([object]))
                }
    }

  
        }
            // ẩn hiên mật khẩu input
    var password_iocn1 = document.getElementById('password');
      
      var icon= document.getElementById('icon');
      icon.addEventListener("click",function(){
        if (password_iocn1.type === 'password')
         {
              password_iocn1.type = 'text';
              
  } else {
              password_iocn1.type = 'password';
             
  }
      })
     var password_icon = document.getElementById('password2');
      var icon1= document.getElementById('icon1');
      icon1.addEventListener("click",function(){
        if (password_icon.type === 'password')
         {
              password_icon.type = 'text';
              
  } else {
              password_icon.type = 'password';
             
  }
      })
    </script>
</body>
</html>